<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¹ãƒ©ã‚¤ãƒ é€²åŒ–RPG</title>
    <style>
        body {
            font-family: sans-serif;
            text-align: center;
            background-color: #f0f0f0;
            padding: 20px;
        }
        .game-container {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            max-width: 500px;
            margin: auto;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        #slime-display {
            font-size: 100px;
            margin: 20px 0;
            transition: transform 0.5s ease-in-out;
        }
        #status-area {
            margin-bottom: 20px;
            padding: 10px;
            background-color: #e9e9e9;
            border-radius: 5px;
        }
        .action-button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            margin-top: 10px;
        }
        .action-button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ã‚¹ãƒ©ã‚¤ãƒ é€²åŒ–RPG</h1>
        <div id="slime-display">ğŸ’§</div> <!-- åˆæœŸã‚¹ãƒ©ã‚¤ãƒ ã®çµµæ–‡å­— -->
        
        <div id="status-area">
            <p>åå‰: <strong id="slime-name">ã‚¹ãƒ©ã‚¤ãƒ </strong></p>
            <p>ãƒ¬ãƒ™ãƒ«: <strong id="slime-level">1</strong></p>
            <p>çµŒé¨“å€¤: <strong id="slime-exp">0</strong> / <strong id="slime-next-exp">10</strong></p>
            <p>å½¢æ…‹: <strong id="slime-stage">1</strong></p>
        </div>

        <button class="action-button" onclick="gainExp(5)">æ•µã‚’å€’ã™ (çµŒé¨“å€¤+5)</button>
        <p id="message-area" style="color: blue; margin-top: 10px;"></p>
    </div>

    <script>
        // ã‚²ãƒ¼ãƒ ã®çŠ¶æ…‹ã‚’å®šç¾©
        let gameState = {
            name: "ã‚¹ãƒ©ã‚¤ãƒ ",
            level: 1,
            exp: 0,
            nextExp: 10,
            stage: 1,
            emoji: "ğŸ’§"
        };

        // é€²åŒ–ã®å®šç¾©
        const evolutions = {
            1: { name: "ã‚¹ãƒ©ã‚¤ãƒ ", emoji: "ğŸ’§", nextLevel: 10 },
            2: { name: "ã‚­ãƒ³ã‚°ã‚¹ãƒ©ã‚¤ãƒ ", emoji: "ğŸ‘‘ğŸ’§", nextLevel: 30 },
            3: { name: "ãƒ¡ã‚¿ãƒ«ã‚¹ãƒ©ã‚¤ãƒ ", emoji: "ğŸ”©ğŸ’§", nextLevel: 100 },
            4: { name: "ã‚¹ãƒ©ã‚¤ãƒ ã‚¸ã‚§ãƒãƒ©ãƒ«", emoji: "âš”ï¸ğŸ’§", nextLevel: Infinity }
        };

        // DOMè¦ç´ ã¸ã®å‚ç…§
        const slimeDisplay = document.getElementById('slime-display');
        const slimeNameElement = document.getElementById('slime-name');
        const slimeLevelElement = document.getElementById('slime-level');
        const slimeExpElement = document.getElementById('slime-exp');
        const slimeNextExpElement = document.getElementById('slime-next-exp');
        const slimeStageElement = document.getElementById('slime-stage');
        const messageArea = document.getElementById('message-area');

        // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
        function updateStatus() {
            slimeNameElement.textContent = gameState.name;
            slimeLevelElement.textContent = gameState.level;
            slimeExpElement.textContent = gameState.exp;
            slimeNextExpElement.textContent = gameState.nextExp;
            slimeStageElement.textContent = gameState.stage;
            slimeDisplay.textContent = gameState.emoji;
        }

        // ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã‚’å‡¦ç†ã™ã‚‹é–¢æ•°
        function levelUp() {
            gameState.level++;
            gameState.exp = 0;
            // æ¬¡ã®é€²åŒ–ãƒ¬ãƒ™ãƒ«ã«åŸºã¥ã„ã¦æ¬¡ã®çµŒé¨“å€¤ç›®æ¨™ã‚’è¨­å®š
            const nextStageData = evolutions[gameState.stage + 1];
            if (nextStageData) {
                gameState.nextExp = nextStageData.nextLevel;
            } else {
                gameState.nextExp = Infinity; // æœ€çµ‚é€²åŒ–ãªã‚‰çµŒé¨“å€¤ä¸Šé™ãªã—
            }
            showMessage("ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ã—ã¾ã—ãŸï¼ç¾åœ¨ã®ãƒ¬ãƒ™ãƒ«: " + gameState.level);
            checkEvolution();
            updateStatus();
        }

        // é€²åŒ–ã‚’ãƒã‚§ãƒƒã‚¯ãƒ»å‡¦ç†ã™ã‚‹é–¢æ•°
        function checkEvolution() {
            const currentStageData = evolutions[gameState.stage];
            if (gameState.level >= currentStageData.nextLevel && evolutions[gameState.stage + 1]) {
                gameState.stage++;
                const nextStageData = evolutions[gameState.stage];
                gameState.name = nextStageData.name;
                gameState.emoji = nextStageData.emoji;
                // é€²åŒ–ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
                slimeDisplay.style.transform = 'scale(2)';
                setTimeout(() => {
                    slimeDisplay.style.transform = 'scale(1)';
                    showMessage("ãŠã‚ã§ã¨ã†ï¼ " + gameState.name + "ã«é€²åŒ–ã—ã¾ã—ãŸï¼");
                }, 500);
            }
        }

        // çµŒé¨“å€¤ç²å¾—ã‚’å‡¦ç†ã™ã‚‹é–¢æ•°
        function gainExp(amount) {
            gameState.exp += amount;
            while (gameState.exp >= gameState.nextExp) {
                // çµŒé¨“å€¤ãŒæ¬¡ã®ãƒ¬ãƒ™ãƒ«ã¾ã§ã®å¿…è¦çµŒé¨“å€¤ã‚’è¶…ãˆãŸã‚‰ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—
                const remainingExp = gameState.exp - gameState.nextExp;
                levelUp();
                gameState.exp = remainingExp; // æ®‹ã‚ŠçµŒé¨“å€¤ã‚’æ¬¡ã®ãƒ¬ãƒ™ãƒ«ã¸æŒã¡è¶Šã—
            }
            showMessage(amount + "ã®çµŒé¨“å€¤ã‚’ç²å¾—ã—ã¾ã—ãŸï¼");
            updateStatus();
        }

        // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºé–¢æ•°
        function showMessage(msg) {
            messageArea.textContent = msg;
            // 2ç§’å¾Œã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚¯ãƒªã‚¢
            setTimeout(() => {
                messageArea.textContent = "";
            }, 2000);
        }

        // ã‚²ãƒ¼ãƒ é–‹å§‹æ™‚ã®åˆæœŸè¡¨ç¤º
        updateStatus();
    </script>
</body>
</html>
